<div th:fragment="adminfragmentTB">
    <!-- Top Bar -->
    <div class="top-bar">
        <button class="mobile-menu-toggle" id="mobile-menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
        <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Search users, projects, tasks...">
        </div>
        <div class="admin-info">
            <div class="notification-icons">
                <div class="notifications" data-sidebar="notifications">
                    <i class="fas fa-bell"></i>
                    <span class="badge" id="notification-count">2</span>
                </div>
                <div class="messages" data-sidebar="messages">
                    <i class="fas fa-envelope"></i>
                    <span class="badge" id="message-count">8</span>
                </div>
                <div class="user-settings-icon" data-sidebar="user-settings">
                    <i class="fas fa-cog"></i>
                </div>
                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
            <div class="admin-profile">
                <img src="https://via.placeholder.com/40x40/4361ee/ffffff?text=SA" alt="Super Admin Avatar">
                <div class="admin-details">
                    <span class="username" th:text="${user != null ? user.name : 'Super Admin'}">Super Admin</span>
                    <span class="role" th:text="${user != null ? user.position : 'Super Admin'}">Super Admin</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Secondary Sidebar -->
    <div class="secondary-sidebar" id="secondary-sidebar">
        <!-- Notifications Content -->
        <div class="sidebar-content" id="notifications-content">
            <div class="sidebar-header">
                <h3>Notifications</h3>
                <div class="sidebar-actions">
                    <button class="btn btn-secondary mark-all-read" data-type="notifications">
                        <i class="fas fa-check"></i> Mark All Read
                    </button>
                    <button class="btn btn-danger delete-selected" data-type="notifications">
                        <i class="fas fa-trash"></i> Delete Selected
                    </button>
                </div>
            </div>
            <div th:each="n : ${notifications}" class="message-item" th:classappend="${n.read} ? '' : ' unread'" th:attr="data-id=${n.id}">
                <input type="checkbox" class="message-checkbox">
                <div class="message-body">
                    <div class="message-title" th:text="${n.title}">Notification</div>
                    <div class="message-preview" th:text="${n.message}">Preview</div>
                    <div class="message-time" th:text="${n.createdAt}">Time</div>
                    <div class="message-content" th:text="${n.message}">Content</div>
                </div>
                <button class="btn btn-danger delete-message" th:attr="data-id=${n.id}"><i class="fas fa-trash"></i></button>
            </div>
        </div>

        <!-- Messages Content -->
        <div class="sidebar-content" id="messages-content">
            <div class="sidebar-header">
                <h3>Messages</h3>
                <div class="sidebar-actions">
                    <button class="btn btn-secondary mark-all-read" data-type="messages">
                        <i class="fas fa-check"></i> Mark All Read
                    </button>
                    <button class="btn btn-danger delete-selected" data-type="messages">
                        <i class="fas fa-trash"></i> Delete Selected
                    </button>
                </div>
            </div>
            <div th:each="m : ${messages}" class="message-item" th:classappend="${m.unread} ? ' unread' : ''" th:attr="data-id=${m.id}">
                <input type="checkbox" class="message-checkbox">
                <div class="message-body">
                    <div class="message-title" th:text="${m.title}">Message</div>
                    <div class="message-preview" th:text="${m.preview}">Preview</div>
                    <div class="message-time" th:text="${m.time}">Time</div>
                    <div class="message-content" th:text="${m.content}">Content</div>
                </div>
                <button class="btn btn-danger delete-message" th:attr="data-id=${m.id}"><i class="fas fa-trash"></i></button>
            </div>
        </div>

        <!-- User Settings Content -->
        <div class="sidebar-content" id="user-settings-content">
            <h3>User Settings</h3>
            <div class="user-settings">
                <div class="user-info">
                    <div class="user-info-item">
                        <label>Name</label>
                        <span th:text="${user != null ? user.name : 'Super Admin'}">Super Admin</span>
                    </div>
                    <div class="user-info-item">
                        <label>Email</label>
                        <span th:text="${user != null ? user.email : 'admin@example.com'}">admin@example.com</span>
                    </div>
                    <div class="user-info-item">
                        <label>Role</label>
                        <span th:text="${user != null ? user.position : 'Super Admin'}">Super Admin</span>
                    </div>
                    <div class="user-info-item">
                        <label>Last Login</label>
                        <span>2025-08-07 17:44:00</span>
                    </div>
                </div>
                <button class="btn btn-primary" style="width: 100%;">
                    <i class="fas fa-edit"></i> Edit Profile
                </button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal" id="delete-confirmation">
        <div class="modal-content">
            <h3>Confirm Deletion</h3>
            <p>Are you sure you want to delete the selected items?</p>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancel-delete">Cancel</button>
                <button class="btn btn-danger" id="confirm-delete">Delete</button>
            </div>
        </div>
    </div>
</div>